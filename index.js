import{a as S,i as _}from"./assets/vendor-KMtUSH4V.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))f(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&f(u)}).observe(document,{childList:!0,subtree:!0});function c(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function f(t){if(t.ep)return;t.ep=!0;const s=c(t);fetch(t.href,s)}})();const a=document.querySelector(".js-footer-form"),i=document.querySelector(".js-footer-form-input"),m=document.querySelector(".js-message");let n={email:"",comment:""};const O=new RegExp(i.getAttribute("pattern")),y=(e,o)=>{m.textContent=e,m.style.color=o,m.classList.remove("is-hidden")},p=()=>{m.classList.add("is-hidden"),i.style.borderColor="rgba(250, 250, 250, 0.2)"},E=()=>{const e=i.value.trim();if(e===""){p();return}O.test(e)?(y("Success!","#3CBC81"),i.style.borderBottom="1px solid #3CBC81"):(y("Invalid email, try again","#E74A3B"),i.style.borderBottom="1px solid #E74A3B")};i.addEventListener("input",E);const g=()=>{n=JSON.parse(localStorage.getItem("comment-form")||"{}"),Object.keys(n).forEach(o=>{a.elements[o]&&(a.elements[o].value=n[o])}),E()};g();const A=e=>{const{name:o,value:c}=e.target;n[o]=c.trim(),localStorage.setItem("comment-form",JSON.stringify(n))};a.addEventListener("input",A);const v=async e=>{e.preventDefault();const o="https://portfolio-js.b.goit.study/api/requests/";try{const c=await S.post(o,{email:n.email,comment:n.comment});console.log(c),a.reset(),localStorage.removeItem("comment-form"),p()}catch{_.error({title:"Error:",message:"Error sending request. Try again."})}};a.addEventListener("submit",v);const M=document.querySelector(".js-footer-form-btn"),l=document.querySelector(".modal-window"),r=document.querySelector(".modal-overlay"),L=document.querySelector(".close-modal-btn"),d=document.querySelector(".js-footer-form");d.querySelectorAll("input, textarea");document.querySelector("#email");M.onclick=function(e){e.preventDefault(),l.style.display="block",r.style.display="block",setTimeout(()=>{l.classList.add("show"),r.classList.add("show")},10)};L.onclick=function(){l.classList.remove("show"),r.classList.remove("show"),setTimeout(()=>{l.style.display="none",r.style.display="none"},1e3)};window.onclick=function(e){e.target==r&&(l.classList.remove("show"),r.classList.remove("show"),setTimeout(()=>{l.style.display="none",r.style.display="none"},1e3),d.reset())};L.addEventListener("click",()=>{d.reset()});window.addEventListener("click",e=>{e.target==r&&d.reset()});
//# sourceMappingURL=index.js.map
