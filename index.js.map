{"version":3,"file":"index.js","sources":["../src/js/work_together.js","../src/js/modal-window.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\n\nconst FORM_EL = document.querySelector('.js-footer-form');\nconst USER_EMAIL_EL = document.querySelector('.js-footer-form-input');\nconst MESSAGE_OUTPUT_EL = document.querySelector('.js-message');\n\nlet formData = {\n  email: '',\n  comment: '',\n};\n\nconst EMAIL_PATTERN = new RegExp(USER_EMAIL_EL.getAttribute('pattern'));\n\nconst UPDATE_MESSAGE = (message, color) => {\n  MESSAGE_OUTPUT_EL.textContent = message;\n  MESSAGE_OUTPUT_EL.style.color = color;\n  MESSAGE_OUTPUT_EL.classList.remove('is-hidden');\n};\n\nconst HIDE_MESSAGE = () => {\n  MESSAGE_OUTPUT_EL.classList.add('is-hidden');\n  USER_EMAIL_EL.style.borderColor = 'rgba(250, 250, 250, 0.2)';\n};\n\nconst ON_USER_EMAIL_INPUT = () => {\n  const USER_EMAIL_VALUE = USER_EMAIL_EL.value.trim();\n\n  if (USER_EMAIL_VALUE === '') {\n    HIDE_MESSAGE();\n    return;\n  }\n\n  if (!EMAIL_PATTERN.test(USER_EMAIL_VALUE)) {\n    UPDATE_MESSAGE('Invalid email, try again', '#E74A3B');\n    USER_EMAIL_EL.style.borderBottom = '1px solid #E74A3B';\n  } else {\n    UPDATE_MESSAGE('Success!', '#3CBC81');\n    USER_EMAIL_EL.style.borderBottom = '1px solid #3CBC81';\n  }\n};\n\nUSER_EMAIL_EL.addEventListener('input', ON_USER_EMAIL_INPUT);\n\nconst FILL_FORM_FIELDS = () => {\n  const FORM_DATA_FROM_LS = JSON.parse(\n    localStorage.getItem('comment-form') || '{}'\n  );\n\n  formData = FORM_DATA_FROM_LS;\n\n  Object.keys(formData).forEach(key => {\n    if (FORM_EL.elements[key]) {\n      FORM_EL.elements[key].value = formData[key];\n    }\n  });\n\n  ON_USER_EMAIL_INPUT();\n};\n\nFILL_FORM_FIELDS();\n\nconst ON_FORM_FIELD_INPUT = event => {\n  const { name, value } = event.target;\n  formData[name] = value.trim();\n  localStorage.setItem('comment-form', JSON.stringify(formData));\n};\n\nFORM_EL.addEventListener('input', ON_FORM_FIELD_INPUT);\n\nconst ON_SEND_FORM_DATA = async event => {\n  event.preventDefault();\n\n  const API_URL = 'https://portfolio-js.b.goit.study/api/requests/';\n\n  try {\n    const response = await axios.post(API_URL, {\n      email: formData.email,\n      comment: formData.comment,\n    });\n    console.log(response);\n    FORM_EL.reset();\n    localStorage.removeItem('comment-form');\n    HIDE_MESSAGE();\n    // MODAL.classList.remove('is-hidden');\n    // OVARLAY.classList.remove('is-hidden');\n  } catch (err) {\n    iziToast.error({\n      title: 'Error:',\n      message: 'Error sending request. Try again.',\n    });\n  }\n};\n\nFORM_EL.addEventListener('submit', ON_SEND_FORM_DATA);","import iziToast from 'izitoast';  // Переконайтесь, що iziToast підключено\n\nconst SEND_BTN = document.querySelector('.js-footer-form-btn');\nconst MODAL_WINDOW = document.querySelector('.modal-window');\nconst MODAL_OVERLAY = document.querySelector('.modal-overlay');\nconst CLOSE_BTN = document.querySelector('.close-modal-btn');\nconst FORM = document.querySelector('.js-footer-form');\nconst FORM_INPUTS = FORM.querySelectorAll('input, textarea');\nconst EMAIL_INPUT = document.querySelector('#email');  // Отримуємо поле email\n\nSEND_BTN.onclick = function(event) {\n    event.preventDefault();\n\n        MODAL_WINDOW.style.display = 'block';\n        MODAL_OVERLAY.style.display = 'block';\n\n        setTimeout(() => {\n            MODAL_WINDOW.classList.add('show');\n            MODAL_OVERLAY.classList.add('show');\n        }, 10);\n    \n}\n\nCLOSE_BTN.onclick = function() {\n    MODAL_WINDOW.classList.remove('show');\n    MODAL_OVERLAY.classList.remove('show');\n\n    setTimeout(() => {\n        MODAL_WINDOW.style.display = 'none';\n        MODAL_OVERLAY.style.display = 'none';\n    }, 1000);\n}\n\nwindow.onclick = function(event) {\n    if (event.target == MODAL_OVERLAY) {\n        MODAL_WINDOW.classList.remove('show');\n        MODAL_OVERLAY.classList.remove('show');\n\n        setTimeout(() => {\n            MODAL_WINDOW.style.display = 'none';\n            MODAL_OVERLAY.style.display = 'none';\n        }, 1000);\n\n        FORM.reset();\n    }\n}\n\nCLOSE_BTN.addEventListener('click', () => {\n    FORM.reset();\n});\n\nwindow.addEventListener('click', (event) => {\n    if (event.target == MODAL_OVERLAY) {\n        FORM.reset();\n    }\n});\n"],"names":["FORM_EL","USER_EMAIL_EL","MESSAGE_OUTPUT_EL","formData","EMAIL_PATTERN","UPDATE_MESSAGE","message","color","HIDE_MESSAGE","ON_USER_EMAIL_INPUT","USER_EMAIL_VALUE","FILL_FORM_FIELDS","key","ON_FORM_FIELD_INPUT","event","name","value","ON_SEND_FORM_DATA","API_URL","response","axios","iziToast","SEND_BTN","MODAL_WINDOW","MODAL_OVERLAY","CLOSE_BTN","FORM"],"mappings":"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"}